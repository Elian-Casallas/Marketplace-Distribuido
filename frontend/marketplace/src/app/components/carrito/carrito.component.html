
<section class="sectionC service">
  <!-- LOADER -->
  <div class="loader-container" *ngIf="cargando">
    <div class="loader"></div>
    <p class="loader-text">Cargando lista de productos... por favor espere</p>
  </div>
  <div class="containerC" *ngIf="!cargando">
    <div class="blogstable" *ngIf="productosFiltrados.length > 0; else noData">
      <table class="table">
        <thead>
          <tr>
            <th>#</th>
            <th>Nombre</th>
            <th>Tipo</th>
            <th>Precio</th>
            <th>Cantidad</th>
            <th>Acciones</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of productosFiltrados; let i = index">
            <td>{{ (pagina - 1) * cantidad + (i + 1) }}</td>
            <td>{{ producto.name }}</td>
            <td>{{ producto.category === 'clothes' ? 'Ropa' : producto.category === 'electronics' ? 'Electr√≥nica' : 'Casa'}}</td>
            <td>${{ producto.price }}</td>
            <td>{{ producto.cantidad }}</td>
            <td>
              <div class="divButton">
                <button title="eliminar" (click)="eliminar(producto.id)">
                  Eliminar
                </button>
              </div>
            </td>
            <td>${{producto.total}}</td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td>
              <div class="divButton">
                <button title="pagar" class="pagar" (click)="pagar()">
                  Pagar
                </button>
              </div>
            </td>
            <td>${{total}}</td>
          </tr>
        </tbody>
      </table>

      <div class="blogpagination">
        <button (click)="paginacion(pagina - 1)" [disabled]="pagina === 1">
          Anterior
        </button>

        <button *ngFor="let number of pageNumbers"
                (click)="paginacion(number)"
                [class.active]="pagina === number">
          {{ number }}
        </button>

        <button (click)="paginacion(pagina + 1)"
                [disabled]="productosFiltrados.length < cantidad || pagina === totalPages">
          Siguiente
        </button>
      </div>
    </div>
    <ng-template #noData>
      <p>No hay productos para comprar.</p>
    </ng-template>
  </div>
</section>
